<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Real Estate Listings</title>
  <link rel="stylesheet" href="assets/css/blogs.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
  <link href="https://cdn.jsdelivr.net/npm/aos@2.3.4/dist/aos.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;600&family=Poppins:wght@500;700&display=swap" rel="stylesheet">
</head>
<body>

  <!-- Navbar -->
  <header class="navbar">
    <div class="logo">
      <img src="assets/images/logo.jpeg" alt="Logo">
    </div>
    <nav class="nav-links" id="navLinks">
      <a href="index.php">Home</a>
      <a href="listings.php">Listings</a>
      <a href="contact.html">Contact</a>
      <a href="blog.html">Blog</a>
      <a href="aboutus.html">AboutUs</a>
    </nav>
    <div class="menu-toggle" id="menuToggle">
      <i class="fas fa-bars" id="openIcon"></i>
      <i class="fas fa-times" id="closeIcon" style="display: none;"></i>
    </div>
  </header>

  <!-- Blog Section -->
  <section class="blog-section">
    <div class="container">
      <h2 class="section-title">Latest from Our Blog</h2>
      <div id="blogContainer" class="blog-cards">
        <!-- Blog cards will be injected here dynamically -->
      </div>
      <div class="pagination">
        <button id="prevBtn" class="pagination-btn">Previous</button>
        <button id="nextBtn" class="pagination-btn">Next</button>
      </div>
    </div>
  </section>

  <!-- WhatsApp and Call Buttons -->
  <div class="contact-fixed-left">
    <a href="https://wa.me/2547XXXXXXXX" target="_blank" aria-label="Chat on WhatsApp">
      <img src="https://img.icons8.com/color/48/000000/whatsapp--v1.png" alt="WhatsApp">
    </a>
  </div>
  <div class="contact-fixed-right">
    <a href="tel:+2547XXXXXXXX" class="phone-number">CALL:+254 7XX XXX XXX</a>
  </div>

 

<footer class="new-footer">
  <div class="footer-grid">
    <!-- Brand -->
    <div class="footer-brand">
      <h2>WeRent</h2>
      <p>Find the perfect property across Kenya with WeRent. Whether for rent or sale, we simplify your search experience.</p>
    </div>

    <!-- Navigation -->
    <div class="footer-links">
      <h4>Explore</h4>
      <ul>
        <li><a href="index.php">Home</a></li>
        <li><a href="listings.php">Properties</a></li>
        <li><a href="blog.html">Blog</a></li>
        <li><a href="aboutus.html">About Us</a></li>
        <li><a href="contact.html">Contact</a></li>
      </ul>
    </div>

    <!-- Contact Info -->
    <div class="footer-contact">
      <h4>Contact Us</h4>
      <ul>
        <li><i class="fas fa-map-marker-alt"></i>  <a href="https://www.google.com/maps/place/Mombasa,+Kenya" target="_blank" rel="noopener noreferrer" class="location-link">
          Jacaranda road,Watamu
        </a></li>
        <li><i class="fas fa-phone"></i> <a href="tel:+254741257885">+254 741 257 885</a></li>
        <li><i class="fas fa-envelope"></i> <a href="mailto:info@werent.co.ke">info@werent.co.ke</a></li>
      </ul>
    </div>

    <!-- Social -->
    <div class="footer-social">
      <h4>Follow Us</h4>
      <div class="social-icons">
        <a href="#" aria-label="Facebook"><i class="fab fa-facebook-f"></i></a>
        <a href="#" aria-label="X"><i class="fab fa-x-twitter"></i></a>
        <a href="#" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
        <a href="#" aria-label="LinkedIn"><i class="fab fa-linkedin-in"></i></a>
        <a href="" target="_blank" aria-label="X (Twitter)"><i class="fab fa-x-twitter"></i></a>
        <a href="" target="_blank" aria-label="TikTok"><i class="fab fa-tiktok"></i></a>
      </div>
    </div>
  </div>

  <div class="footer-bottom">
    <p>&copy; <?= date('Y') ?> WeRent. All rights reserved.</p>
  </div>
</footer>


  <!-- AOS Animation Script -->
  <script src="https://cdn.jsdelivr.net/npm/aos@2.3.4/dist/aos.js"></script>
  <script>
    AOS.init({ duration: 800, once: true });
  </script>

  <!-- Toggle Menu Script -->
  <script>
    const menuToggle = document.getElementById('menuToggle');
const navLinks = document.getElementById('navLinks');
const openIcon = document.getElementById('openIcon');
const closeIcon = document.getElementById('closeIcon');

menuToggle.addEventListener('click', () => {
  navLinks.classList.toggle('active');

  if (navLinks.classList.contains('active')) {
    openIcon.style.display = 'none';
    closeIcon.style.display = 'block';
  } else {
    openIcon.style.display = 'block';
    closeIcon.style.display = 'none';
  }
});
  </script>

  <!-- Load Blogs & Pagination -->
  <script>
    document.addEventListener("DOMContentLoaded", function () {
      const blogContainer = document.getElementById("blogContainer");
      const blogsPerPage = 6;
      let currentPage = 1;
      let blogData = [];

      fetch("get_blogs.php")
        .then(response => response.json())
        .then(data => {
          blogData = data;
          showPage(currentPage);
        })
        .catch(error => {
          blogContainer.innerHTML = "<p>Error loading blogs. Please try again later.</p>";
          console.error("Fetch error:", error);
        });

      function showPage(page) {
        blogContainer.innerHTML = '';
        const start = (page - 1) * blogsPerPage;
        const end = page * blogsPerPage;
        const pageData = blogData.slice(start, end);

        pageData.forEach(blog => {
          const card = document.createElement("div");
          card.classList.add("blog-card");
          card.innerHTML = `
            <img src="blogs/${blog.image}" alt="${blog.title}">
            <h3>${blog.title}</h3>
            <p>${blog.short_description}</p>
           <a href="blog.php?slug=${blog.slug}" class="read-more">Read More â†’</a>

          `;
          blogContainer.appendChild(card);
        });

        document.getElementById('prevBtn').disabled = page === 1;
        document.getElementById('nextBtn').disabled = end >= blogData.length;
      }

      document.getElementById('prevBtn').addEventListener('click', () => {
        if (currentPage > 1) {
          currentPage--;
          showPage(currentPage);
        }
      });

      document.getElementById('nextBtn').addEventListener('click', () => {
        if (currentPage * blogsPerPage < blogData.length) {
          currentPage++;
          showPage(currentPage);
        }
      });
    });
  </script>

</body>
</html>
